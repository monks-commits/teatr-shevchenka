<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <title>Панель касира — Театр ім. Т. Г. Шевченка</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="../styles.css" />
  <style>
    body {
      background:#f3f4f6;
    }
    .admin-page {
      max-width: 1200px;
      margin: 16px auto 40px;
      padding: 0 16px;
    }
    .admin-header {
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      margin-bottom:16px;
      gap:16px;
    }
    .admin-header__title {
      font-size:20px;
      font-weight:700;
    }
    .admin-header__subtitle {
      font-size:14px;
      color:#6b7280;
    }
    .admin-layout {
      display:flex;
      gap:16px;
      align-items:flex-start;
    }
    .admin-left {
      flex:1 1 auto;
      min-width:0;
    }
    .admin-right {
      width:320px;
      flex:0 0 320px;
    }

    /* Блок схемы зала (как в hall.html) */
    .hall-card{
      background:#fff;
      border-radius:16px;
      padding:16px;
      box-shadow:0 10px 25px rgba(15,23,42,0.05);
    }
    .hall-layout{
      display:flex;
      gap:24px;
      align-items:flex-start;
    }
    .hall-left{
      flex:1 1 auto;
      min-width:0;
    }
    .hall-scroll{
      background:#e5e7eb;
      border-radius:16px;
      padding:12px;
      overflow-x:auto;
      overflow-y:visible;
      -webkit-overflow-scrolling:touch;
    }
    .hall-inner{
      width:max(980px,100%);
    }
    .hall-section{
      margin-bottom:18px;
    }
    .hall-section-title{
      text-align:center;
      font-size:14px;
      text-transform:uppercase;
      letter-spacing:.08em;
      color:#6b7280;
      margin:4px 0 6px;
    }
    .row-line{
      display:flex;
      align-items:center;
      gap:8px;
      margin-bottom:4px;
    }
    .row-label{
      width:22px;
      text-align:right;
      font-size:11px;
      color:#6b7280;
      flex:0 0 22px;
    }
    .seats-row{
      display:flex;
      gap:4px;
      flex-wrap:nowrap;
    }
    .seat{
      width:24px;
      height:24px;
      border-radius:6px;
      border:1px solid #d1d5db;
      background:#fff;
      font-size:11px;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      padding:0;
      user-select:none;
    }
    .seat--gap-right{
      margin-right:16px;
    }
    .amphi-gap{
      width:24px;
      flex:0 0 24px;
    }
    .seat--parter-front{ background:#fef9c3; }
    .seat--parter-mid{   background:#dbeafe; }
    .seat--parter-back{  background:#e5e7eb; }
    .seat--amphi{        background:#e0f2fe; }
    .seat--balcony{      background:#f3e8ff; }
    .seat--lodge{        background:#fee2e2; }

    .seat--selected{
      background:#2563eb !important;
      color:#fff;
      border-color:#2563eb;
    }
    .seat--sold{
      background:#9ca3af !important;
      color:#fff;
      cursor:not-allowed;
    }
    .seat--reserved{
      background:#facc15 !important;
      color:#1f2937;
    }

    .parter-wrap{
      display:flex;
      justify-content:center;
      align-items:flex-start;
      gap:24px;
    }
    .hall-lodge{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:4px;
    }
    .hall-lodge-label{
      font-size:11px;
      color:#6b7280;
      margin-bottom:4px;
    }
    .hall-lodge-seats{
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    /* Справа — корзина и кнопки */
    .admin-card {
      background:#fff;
      border-radius:16px;
      padding:16px;
      box-shadow:0 10px 25px rgba(15,23,42,0.05);
      margin-bottom:16px;
    }
    .admin-card h3{
      margin-top:0;
      margin-bottom:8px;
      font-size:16px;
    }
    .admin-meta{
      font-size:13px;
      color:#6b7280;
    }
    .basket-list{
      font-size:14px;
      margin:8px 0;
      max-height:160px;
      overflow-y:auto;
    }
    .basket-empty{
      font-size:13px;
      color:#9ca3af;
    }
    .basket-total{
      margin-top:8px;
      font-weight:600;
    }
    .admin-buttons{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:12px;
    }
    .btn-admin{
      border:none;
      border-radius:999px;
      padding:7px 14px;
      font-size:14px;
      cursor:pointer;
      font-weight:600;
    }
    .btn-sell{
      background:#16a34a;
      color:#fff;
    }
    .btn-reserve{
      background:#facc15;
      color:#1f2937;
    }
    .btn-unreserve{
      background:#e5e7eb;
      color:#111827;
    }
    .btn-clear{
      background:#f3f4f6;
      color:#4b5563;
    }

    .legend{
      font-size:12px;
      color:#6b7280;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:8px;
    }
    .legend__item{
      display:flex;
      align-items:center;
      gap:4px;
    }
    .legend-sample{
      width:14px;
      height:14px;
      border-radius:4px;
      border:1px solid #d1d5db;
    }
    .legend-sample--free{ background:#fff; }
    .legend-sample--selected{ background:#2563eb; }
    .legend-sample--sold{ background:#9ca3af; }
    .legend-sample--reserved{ background:#facc15; }

    @media (max-width:960px){
      .admin-layout{
        flex-direction:column;
      }
      .admin-right{
        width:auto;
      }
    }
  </style>
</head>
<body>
  <div class="admin-page">
    <header class="admin-header">
      <div>
        <div class="admin-header__title" id="admin-theatre-name">
          Театр ім. Т. Г. Шевченка
        </div>
        <div class="admin-header__subtitle" id="admin-theatre-subtitle">
          Панель касира / адміністратора
        </div>
      </div>
      <div class="admin-meta">
        <div id="admin-current-show">Сеанс: (не обрано)</div>
        <div id="admin-current-date"></div>
      </div>
    </header>

    <div class="admin-layout">
      <!-- Левая часть: схема -->
      <div class="admin-left">
        <div class="hall-card">
          <h2 style="margin:0 0 8px;font-size:16px;">Схема залу</h2>
          <p class="admin-meta" style="margin:0 0 8px;">
            Натискайте на місця, щоб додати їх до кошика. Далі — «Продати» або «Поставити на бронь».
          </p>
          <div class="hall-layout">
            <div class="hall-left">
              <div class="hall-scroll">
                <div class="hall-inner" id="hall-root">
                  <!-- сюда JS отрисует партер / амфитеатр / балкон / ложі -->
                </div>
              </div>
            </div>
          </div>

          <div class="legend">
            <div class="legend__item">
              <span class="legend-sample legend-sample--free"></span> вільно
            </div>
            <div class="legend__item">
              <span class="legend-sample legend-sample--selected"></span> обрано (кошик)
            </div>
            <div class="legend__item">
              <span class="legend-sample legend-sample--sold"></span> продано
            </div>
            <div class="legend__item">
              <span class="legend-sample legend-sample--reserved"></span> бронь
            </div>
          </div>
        </div>
      </div>

      <!-- Правая часть: корзина, суммы, кнопки -->
      <aside class="admin-right">
        <section class="admin-card">
          <h3>Обрані місця</h3>
          <div id="basket-list" class="basket-list">
            <div class="basket-empty">Поки що нічого не обрано.</div>
          </div>
          <div class="basket-total">
            Сума: <span id="basket-total">0</span>
            <span id="basket-currency">грн</span>
          </div>

          <div class="admin-buttons">
            <button type="button" class="btn-admin btn-sell" id="btn-sell">
              Продати (каса)
            </button>
            <button type="button" class="btn-admin btn-reserve" id="btn-reserve">
              Поставити на бронь
            </button>
            <button type="button" class="btn-admin btn-unreserve" id="btn-unreserve">
              Скасувати бронь
            </button>
            <button type="button" class="btn-admin btn-clear" id="btn-clear">
              Очистити кошик
            </button>
          </div>
        </section>

        <section class="admin-card">
          <h3>Примітка</h3>
          <p class="admin-meta">
            Дані в цій демо-версії зберігаються лише в браузері касира (localStorage).
            Після оновлення сторінки місця знову стануть вільними.
          </p>
        </section>
      </aside>
    </div>
  </div>

  <script src="admin.js"></script>
</body>
</html>
